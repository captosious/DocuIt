@page "/test"
@using DocuitWeb.Models
@using DocuitWeb.Data
@using System;
@using System.Collections.Generic;
@using System.IO;

<img src="@imagesrc" />
<InputFile OnChange="OnInputFileChange" />

@code{
    private string imagesrc = "";

    private async Task OnInputFileChange(InputFileChangeEventArgs e)
    {
        int result = 0;

        Stream fileStream = e.File.OpenReadStream();

        //string filePath = "/Users/pedrorio/Pictures/pere_avatar.jpg";
        //FileStream fileStream = new FileStream(filePath, FileMode.Open);
        MemoryStream memoryStream = new MemoryStream();

        fileStream.CopyTo(memoryStream);

        imagesrc = "data:image/jpg;base64," + Convert.ToBase64String(memoryStream.ToArray());
        StateHasChanged();
    }
}